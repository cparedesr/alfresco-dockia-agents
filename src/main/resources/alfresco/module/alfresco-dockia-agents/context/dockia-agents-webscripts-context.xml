<?xml version='1.0' encoding='UTF-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
          http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans.xsd">

  <!-- Web Script bean -->
  <bean id="webscript.com.cparedesr.dockia.agents.agents.post"
        class="com.cparedesr.dockia.agents.webscripts.DeployAgentPostWebScript"
        parent="webscript">
    <property name="validationService" ref="dockia.agents.validationService"/>
    <property name="deploymentService" ref="dockia.agents.deploymentService"/>
  </bean>

  <bean id="dockia.agents.validationService"
        class="com.cparedesr.dockia.agents.service.AgentValidationService">
    <property name="registryService" ref="dockia.agents.registryService"/>
    <property name="nodeService" ref="NodeService"/>
    <property name="globalProperties" ref="global-properties"/>
  </bean>


  <bean id="dockia.agents.deploymentService"
        class="com.cparedesr.dockia.agents.service.AgentDeploymentService">
    <property name="folderService" ref="dockia.agents.folderService"/>
    <property name="secretsService" ref="dockia.agents.secretsService"/>
    <property name="dockerService" ref="dockia.agents.dockerService"/>
    <property name="registryService" ref="dockia.agents.registryService"/>
    <property name="globalProperties" ref="global-properties"/>
  </bean>

  <bean id="dockia.agents.folderService"
        class="com.cparedesr.dockia.agents.service.repo.impl.AlfrescoFolderServiceImpl">
    <property name="nodeService" ref="NodeService"/>
    <property name="searchService" ref="SearchService"/>
    <property name="fileFolderService" ref="FileFolderService"/>
  </bean>

  <bean id="dockia.agents.registryService"
        class="com.cparedesr.dockia.agents.service.registry.impl.AgentRegistryRepoService">
    <property name="nodeService" ref="NodeService"/>
    <property name="searchService" ref="SearchService"/>
    <property name="fileFolderService" ref="FileFolderService"/>
  </bean>

  <bean id="dockia.agents.secretsService"
        class="com.cparedesr.dockia.agents.service.secrets.impl.PropertySecretsService">
    <property name="globalProperties" ref="global-properties"/>
  </bean>

  <bean id="dockia.agents.dockerService"
        class="com.cparedesr.dockia.agents.service.docker.impl.DockerSocketCliServiceImpl">
    <property name="globalProperties" ref="global-properties"/>
  </bean>

</beans>